(this["webpackJsonpcomp4513-a1"]=this["webpackJsonpcomp4513-a1"]||[]).push([[0],{23:function(e,t,r){},29:function(e,t,r){},42:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var s=r(1),n=r.n(s),i=r(16),l=r.n(i),c=(r(29),r(17)),a=r.n(c),o=r(24),j=r(7),d=r(10),u=r(11),h=r(3),b=r(13),f=r(12),O=r(5),p=r(2),x=r(6),v=r(18),y=r.n(v),m=(r(42),r(23),r(0)),F={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};y.a.setAppElement(document.querySelector("#body"));var g=function(e){var t=n.a.useState(!1),r=Object(x.a)(t,2),s=r[0],i=r[1];function l(){i(!1)}return Object(m.jsxs)("div",{id:"header",children:[Object(m.jsx)(O.b,{to:"/comp4513-a1/",id:"logo",onClick:e.closeCurrent,children:"\ud83c\udfad"}),Object(m.jsx)("button",{onClick:function(){i(!0)},children:"About"}),Object(m.jsxs)(y.a,{isOpen:s,onRequestClose:l,style:F,children:[Object(m.jsx)("h2",{children:"Shakespeare Play Browser"}),Object(m.jsx)("h3",{children:"Assignment Information"}),Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{title:"name",children:"Olga Koldachenko"}),Object(m.jsx)("td",{children:Object(m.jsx)("a",{title:"contact",href:"mailto:okold525@mtroyal.ca",children:"okold525@mtroyal.ca"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{title:"university",children:"Mount Royal University"}),Object(m.jsx)("td",{title:"professor",children:"Randy Connolly"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{title:"course",children:"COMP 4513 - Web III"}),Object(m.jsx)("td",{title:"semester",children:"Fall 2021"})]})]})}),Object(m.jsx)("h3",{children:"Resources & References"}),Object(m.jsxs)("div",{className:"columns",children:[Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:"https://reactjs.org/",children:"react"})}),Object(m.jsx)("p",{children:"framework"}),Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:"https://www.npmjs.com/package/react-modal",children:"react-modal"})}),Object(m.jsx)("p",{children:"modal dialog"}),Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:"https://www.npmjs.com/package/react-router-dom",children:"react-router-dom"})}),Object(m.jsx)("p",{children:"routing"}),Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:"https://unsplash.com/photos/nz-UtZz81fI",children:"unsplash"})}),Object(m.jsx)("p",{children:"home view splash image"}),Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:"https://icons8.com/preloaders/en/circular",children:"preloaders.net"})}),Object(m.jsx)("p",{children:"spinner gif"})]}),Object(m.jsx)("p",{children:"All the symbols are unicode this time around"}),Object(m.jsx)("button",{id:"modal-button",onClick:l,children:"Close"})]})]})},k=function(e){return Object(m.jsxs)("div",{id:"fav-list",children:[Object(m.jsx)("h2",{children:"Favourites"}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Title"}),Object(m.jsx)("td",{className:"thin-col",children:"Del"})]})}),Object(m.jsx)("tbody",{children:e.getFavFunctions().getFavList().map((function(t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{onClick:function(r){return e.setCurrent(t)},children:t.title}),Object(m.jsx)("td",{className:"thin-col",onClick:function(r){return e.getFavFunctions().removeFromFavs(t)},children:"X"})]})}))})]})]})},C=function(e){return Object(m.jsx)("input",{defaultValue:e.title,onChange:function(t){return e.filterPlays(e.type,t.target.value)}})},_=function(e){return Object(m.jsxs)("select",{onChange:function(t){return e.filterPlays("genre",t.target.value)},children:[Object(m.jsx)("option",{default:!0}),Object(m.jsx)("option",{value:"comedy",children:"Comedy"}),Object(m.jsx)("option",{value:"tragedy",children:"Tragedy"}),Object(m.jsx)("option",{value:"history",children:"History"})]})},P=(r(44),function(e){return Object(m.jsxs)("div",{id:"filter-block",children:[Object(m.jsx)("h2",{children:"Filters"}),Object(m.jsxs)("form",{id:"filter-form",children:[Object(m.jsx)("h3",{children:"Title"}),Object(m.jsx)(C,{type:"title",title:e.title,filterPlays:e.filterPlays}),Object(m.jsx)("h3",{children:"Year"}),Object(m.jsx)("label",{children:"Start"}),Object(m.jsx)(C,{type:"start",filterPlays:e.filterPlays}),Object(m.jsx)("label",{children:"End"}),Object(m.jsx)(C,{type:"end",filterPlays:e.filterPlays}),Object(m.jsx)("h3",{children:"Genre"}),Object(m.jsx)(_,{filterPlays:e.filterPlays}),Object(m.jsx)("button",{type:"reset",onClick:e.clearFilter,children:"Clear Filters"})]})]})}),w=(r(45),function(e){return Object(m.jsxs)("div",{id:"play-list",children:[Object(m.jsx)("h2",{children:"Play List"}),Object(m.jsxs)("table",{id:"play-data",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{onClick:function(t){return e.sortPlays("title")},children:"Title"}),Object(m.jsx)("td",{onClick:function(t){return e.sortPlays("likelyDate")},children:"Year"}),Object(m.jsx)("td",{className:"thin-col",children:"Fav"}),Object(m.jsx)("td",{className:"thin-col",children:"View"})]})}),Object(m.jsx)("tbody",{children:e.plays.map((function(t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{onClick:function(r){return e.setCurrent(t)},children:t.title}),Object(m.jsx)("td",{className:"thin-col",children:t.likelyDate}),e.favFuncs.isFav(t)&&Object(m.jsx)("td",{className:"thin-col",onClick:function(r){return e.favFuncs.removeFromFavs(t)},children:"\ud83d\udda4"}),!e.favFuncs.isFav(t)&&Object(m.jsx)("td",{className:"thin-col",onClick:function(r){return e.favFuncs.addToFavs(t)},children:"\u2661"}),Object(m.jsx)("td",{className:"thin-col",children:"View"})]},t.id)}))})]}),0===e.plays.length&&Object(m.jsx)("p",{children:"No matches found!"})]})}),S=(r(46),function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.current.title}),Object(m.jsx)("h3",{children:"Synopsis"}),Object(m.jsx)("p",{children:e.current.synopsis}),Object(m.jsxs)("div",{id:"play-controls",children:[e.favFuncs.isFav(e.current)&&Object(m.jsx)("div",{className:"fav-button",onClick:function(t){return e.favFuncs.removeFromFavs(e.current)},children:"\ud83d\udda4"}),!e.favFuncs.isFav(e.current)&&Object(m.jsx)("div",{className:"fav-button",onClick:function(t){return e.favFuncs.addToFavs(e.current)},children:"\u2661"}),Object(m.jsx)("button",{onClick:e.closeCurrent,children:"Close"})]})]})}),N=(r(47),function(e){Object(b.a)(r,e);var t=Object(f.a)(r);function r(e){var s;return Object(d.a)(this,r),(s=t.call(this,e)).state={mode:"details"},s.setMode=s.setMode.bind(Object(h.a)(s)),s}return Object(u.a)(r,[{key:"setMode",value:function(e){this.setState({mode:e})}},{key:"render",value:function(){return"details"===this.state.mode?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"button-bar",children:[Object(m.jsx)("button",{className:"current-mode",children:"Details"}),Object(m.jsx)("button",{children:"Characters"}),Object(m.jsx)("button",{children:"Text"})]}),Object(m.jsx)("h2",{children:"Play Details"}),Object(m.jsxs)("div",{id:"play-details",children:[Object(m.jsx)("p",{children:"Likely Date:"}),Object(m.jsx)("p",{children:this.props.current.likelyDate}),Object(m.jsx)("p",{children:"Genre:"}),Object(m.jsx)("p",{children:this.props.current.genre}),Object(m.jsx)("p",{children:"Link:"}),Object(m.jsx)("a",{href:this.props.current.wiki,target:"_blank",rel:"noreferrer",children:"Wiki"}),Object(m.jsx)("p",{children:"Link:"}),Object(m.jsx)("a",{href:this.props.current.gutenberg,target:"_blank",rel:"noreferrer",children:"Gutenberg"}),Object(m.jsx)("p",{children:"Link:"}),Object(m.jsx)("a",{href:this.props.current.shakespeareOrg,target:"_blank",rel:"noreferrer",children:"Shakespeare.org"}),Object(m.jsx)("p",{children:"Description:"}),Object(m.jsx)("p",{children:this.props.current.desc})]})]}):Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Invalid mode... You shouldn't be seeing this??"})})}}]),r}(n.a.Component)),T=(r(48),function(e){return Object(m.jsxs)("div",{id:"play-browser",children:[Object(m.jsx)(g,{closeCurrent:e.closeCurrent}),Object(m.jsx)(k,{getFavFunctions:e.getFavFunctions,setCurrent:e.setCurrent}),!e.single_view&&Object(m.jsx)(P,{title:e.title,filterPlays:e.filterPlays,clearFilter:e.clearFilter}),!e.single_view&&Object(m.jsx)(w,{favFuncs:e.getFavFunctions(),plays:e.plays,sortPlays:e.sortPlays,setCurrent:e.setCurrent}),e.single_view&&Object(m.jsx)(S,{current:e.current,closeCurrent:e.closeCurrent,favFuncs:e.getFavFunctions()}),e.single_view&&Object(m.jsx)(N,{current:e.current})]})}),D=(r(49),function(e){return Object(m.jsx)("div",{id:"fill",children:Object(m.jsxs)("div",{id:"home-box",children:[Object(m.jsx)("h2",{children:"Play Browser"}),e.loading&&Object(m.jsx)("img",{src:"spinner.gif",alt:"loading"}),!e.loading&&Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)(C,{title:e.title,type:"title",filterPlays:e.filterPlays}),Object(m.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",children:"Search Plays"}),Object(m.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",onClick:e.clearFilter,children:"View All"})]})]})})}),A=function(e){Object(b.a)(r,e);var t=Object(f.a)(r);function r(e){var s;return Object(d.a)(this,r),(s=t.call(this,e)).state={plays:[],current:null,single_view:!1,loading:!0,favs:[],filtered_plays:[],title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null},s.setCurrent=s.setCurrent.bind(Object(h.a)(s)),s.closeCurrent=s.closeCurrent.bind(Object(h.a)(s)),s.sortPlays=s.sortPlays.bind(Object(h.a)(s)),s.filterPlays=s.filterPlays.bind(Object(h.a)(s)),s.filterAll=s.filterAll.bind(Object(h.a)(s)),s.clearFilter=s.clearFilter.bind(Object(h.a)(s)),s.addToFavs=s.addToFavs.bind(Object(h.a)(s)),s.getFavList=s.getFavList.bind(Object(h.a)(s)),s.isFav=s.isFav.bind(Object(h.a)(s)),s.removeFromFavs=s.removeFromFavs.bind(Object(h.a)(s)),s.getFavFunctions=s.getFavFunctions.bind(Object(h.a)(s)),s}return Object(u.a)(r,[{key:"setCurrent",value:function(e){this.setState({current:e,single_view:!0})}},{key:"closeCurrent",value:function(){this.setState({single_view:!1})}},{key:"filterPlays",value:function(e,t){var r=Object(j.a)(this.state.plays);"title"===e&&(this.setState({title_filter:t}),r=r.filter((function(e){return e.title.toUpperCase().includes(t.toUpperCase())})),r=this.filterAll("title",r)),"start"===e&&Number(t)&&(this.setState({date_start_filter:Number(t)}),r=r.filter((function(e){return e.likelyDate>=Number(t)})),r=this.filterAll("start",r)),"end"===e&&Number(t)&&(this.setState({date_end_filter:Number(t)}),r=r.filter((function(e){return e.likelyDate<=Number(t)})),r=this.filterAll("end",r)),"genre"===e&&(this.setState({genre_filter:t}),r=r.filter((function(e){return e.genre.toUpperCase().includes(t.toUpperCase())})),r=this.filterAll("genre",r)),this.setState({filtered_plays:r})}},{key:"filterAll",value:function(e,t){var r=this,s=Object(j.a)(t),n=function(t,r,s){return e!==t&&r&&s};return n("title",this.state.title_filter,""!==this.state.title_filter)&&(s=s.filter((function(e){return e.title.toUpperCase().includes(r.state.title_filter.toUpperCase())}))),n("start",this.state.date_start_filter,Number(this.state.date_start_filter))&&(s=s.filter((function(e){return e.likelyDate>=r.state.date_start_filter}))),n("end",this.state.date_end_filter,Number(this.state.date_end_filter))&&(s=s.filter((function(e){return e.likelyDate<=r.state.date_end_filter}))),n("genre",this.state.genre_filter,""!==this.state.genre_filter)&&(s=s.filter((function(e){return e.genre.toUpperCase().includes(r.state.genre_filter.toUpperCase())}))),s}},{key:"sortPlays",value:function(e){var t=Object(j.a)(this.state.plays);t.sort((function(t,r){return t[e]-r[e]}));var r=this.filterAll("",t);this.setState({plays:t,filtered_plays:r})}},{key:"clearFilter",value:function(){var e=Object(j.a)(this.state.plays);this.setState({filtered_plays:e,title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null})}},{key:"getFavList",value:function(){return this.state.favs}},{key:"isFav",value:function(e){return this.state.favs.includes(e)}},{key:"addToFavs",value:function(e){if(!this.isFav(e)){var t=Object(j.a)(this.state.favs);t.push(e),this.setState({favs:t})}}},{key:"removeFromFavs",value:function(e){if(this.isFav(e)){var t=Object(j.a)(this.state.favs);t=t.filter((function(t){return t.id!==e.id})),this.setState({favs:t})}}},{key:"getFavFunctions",value:function(){return{addToFavs:this.addToFavs,getFavList:this.getFavList,isFav:this.isFav,removeFromFavs:this.removeFromFavs}}},{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=localStorage.getItem("shakespeare_data"))){e.next=6;break}t=JSON.parse(t),e.next=14;break;case 6:return e.next=8,fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php");case 8:return r=e.sent,e.next=11,r.json();case 11:(t=e.sent).sort((function(e,t){return t.title-e.title})),localStorage.setItem("shakespeare_data",JSON.stringify(t));case 14:this.setState({plays:t}),s=Object(j.a)(t),this.setState({filtered_plays:s}),this.setState({loading:!1}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Oh God");case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsx)(O.a,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:"/comp4513-a1",element:Object(m.jsx)(D,{loading:this.state.loading,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter})}),Object(m.jsx)(p.a,{path:"/comp4513-a1/browse",element:Object(m.jsx)(T,{plays:this.state.filtered_plays,getFavFunctions:this.getFavFunctions,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter,sortPlays:this.sortPlays,setCurrent:this.setCurrent,closeCurrent:this.closeCurrent,single_view:this.state.single_view,current:this.state.current})})]})})}}]),r}(n.a.Component),L=A,I=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,51)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,l=t.getTTFB;r(e),s(e),n(e),i(e),l(e)}))};l.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),I()}},[[50,1,2]]]);
//# sourceMappingURL=main.0cba2517.chunk.js.map