(this["webpackJsonpcomp4513-a1"]=this["webpackJsonpcomp4513-a1"]||[]).push([[0],{19:function(e,t,i){},29:function(e,t,i){},42:function(e,t,i){},44:function(e,t,i){},45:function(e,t,i){},46:function(e,t,i){},47:function(e,t,i){},48:function(e,t,i){"use strict";i.r(t);var r=i(1),s=i.n(r),l=i(12),n=i.n(l),a=(i(29),i(13)),c=i.n(a),o=i(20),j=i(7),d=i(21),h=i(22),u=i(4),b=i(24),f=i(23),O=i(6),p=i(2),x=i(5),v=i(14),m=i.n(v),y=(i(42),i(19),i(0)),F={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};m.a.setAppElement(document.querySelector("#body"));var g=function(e){var t=s.a.useState(!1),i=Object(x.a)(t,2),r=i[0],l=i[1];function n(){l(!1)}return Object(y.jsxs)("div",{id:"header",children:[Object(y.jsx)(O.b,{to:"/comp4513-a1/",id:"logo",children:"\ud83c\udfad"}),Object(y.jsx)("button",{onClick:function(){l(!0)},children:"About"}),Object(y.jsxs)(m.a,{isOpen:r,onRequestClose:n,style:F,children:[Object(y.jsx)("h2",{children:"Shakespeare Play Browser"}),Object(y.jsx)("h3",{children:"Assignment Information"}),Object(y.jsx)("table",{children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"name",children:"Olga Koldachenko"}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{title:"contact",href:"mailto:okold525@mtroyal.ca",children:"okold525@mtroyal.ca"})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"university",children:"Mount Royal University"}),Object(y.jsx)("td",{title:"professor",children:"Randy Connolly"})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"course",children:"COMP 4513 - Web III"}),Object(y.jsx)("td",{title:"semester",children:"Fall 2021"})]})]})}),Object(y.jsx)("h3",{children:"Resources & References"}),Object(y.jsxs)("div",{className:"columns",children:[Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://reactjs.org/",children:"react"})}),Object(y.jsx)("p",{children:"framework"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://www.npmjs.com/package/react-modal",children:"react-modal"})}),Object(y.jsx)("p",{children:"modal dialog"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://www.npmjs.com/package/react-router-dom",children:"react-router-dom"})}),Object(y.jsx)("p",{children:"routing"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://unsplash.com/photos/nz-UtZz81fI",children:"unsplash"})}),Object(y.jsx)("p",{children:"home view splash image"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://icons8.com/preloaders/en/circular",children:"preloaders.net"})}),Object(y.jsx)("p",{children:"spinner gif"})]}),Object(y.jsx)("button",{id:"modal-button",onClick:n,children:"Close"})]})]})},_=function(e){return Object(y.jsxs)("div",{id:"fav-list",children:[Object(y.jsx)("h2",{children:"Favourites"}),Object(y.jsxs)("table",{children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Title"}),Object(y.jsx)("td",{className:"thin-col",children:"Del"})]})}),Object(y.jsx)("tbody",{children:e.getFavFunctions().getFavList().map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.title}),Object(y.jsx)("td",{className:"thin-col",onClick:function(i){return e.getFavFunctions().removeFromFavs(t)},children:"X"})]})}))})]})]})},k=function(e){return Object(y.jsx)("input",{defaultValue:e.title,onChange:function(t){return e.filterPlays(e.type,t.target.value)}})},P=function(e){return Object(y.jsxs)("select",{onChange:function(t){return e.filterPlays("genre",t.target.value)},children:[Object(y.jsx)("option",{default:!0}),Object(y.jsx)("option",{value:"comedy",children:"Comedy"}),Object(y.jsx)("option",{value:"tragedy",children:"Tragedy"}),Object(y.jsx)("option",{value:"history",children:"History"})]})},C=(i(44),function(e){return Object(y.jsxs)("div",{id:"filter-block",children:[Object(y.jsx)("h2",{children:"Filters"}),Object(y.jsxs)("form",{id:"filter-form",children:[Object(y.jsx)("h3",{children:"Title"}),Object(y.jsx)(k,{type:"title",title:e.title,filterPlays:e.filterPlays}),Object(y.jsx)("h3",{children:"Year"}),Object(y.jsx)("label",{children:"Start"}),Object(y.jsx)(k,{type:"start",filterPlays:e.filterPlays}),Object(y.jsx)("label",{children:"End"}),Object(y.jsx)(k,{type:"end",filterPlays:e.filterPlays}),Object(y.jsx)("h3",{children:"Genre"}),Object(y.jsx)(P,{filterPlays:e.filterPlays}),Object(y.jsx)("button",{type:"reset",onClick:e.clearFilter,children:"Clear Filters"})]})]})}),w=(i(45),function(e){return Object(y.jsxs)("div",{id:"play-list",children:[Object(y.jsx)("h2",{children:"Play List"}),Object(y.jsxs)("table",{id:"play-data",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Title"}),Object(y.jsx)("td",{children:"Year"}),Object(y.jsx)("td",{className:"thin-col",children:"Fav"}),Object(y.jsx)("td",{className:"thin-col",children:"View"})]})}),Object(y.jsx)("tbody",{children:e.plays.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.title}),Object(y.jsx)("td",{className:"thin-col",children:t.likelyDate}),e.favFuncs.isFav(t)&&Object(y.jsx)("td",{className:"thin-col",onClick:function(i){return e.favFuncs.removeFromFavs(t)},children:"\ud83d\udda4"}),!e.favFuncs.isFav(t)&&Object(y.jsx)("td",{className:"thin-col",onClick:function(i){return e.favFuncs.addToFavs(t)},children:"\u2661"}),Object(y.jsx)("td",{className:"thin-col",children:"View"})]})}))})]}),0===e.plays.length&&Object(y.jsx)("p",{children:"No matches found!"})]})}),N=(i(46),function(e){return Object(y.jsxs)("div",{id:"play-browser",children:[Object(y.jsx)(g,{}),Object(y.jsx)(_,{getFavFunctions:e.getFavFunctions}),Object(y.jsx)(C,{title:e.title,filterPlays:e.filterPlays,clearFilter:e.clearFilter}),Object(y.jsx)(w,{favFuncs:e.getFavFunctions(),plays:e.plays})]})}),S=(i(47),function(e){return Object(y.jsx)("div",{id:"fill",children:Object(y.jsxs)("div",{id:"home-box",children:[Object(y.jsx)("h2",{children:"Play Browser"}),e.loading&&Object(y.jsx)("img",{src:"spinner.gif",alt:"loading"}),!e.loading&&Object(y.jsxs)("form",{children:[Object(y.jsx)("label",{children:"Title"}),Object(y.jsx)(k,{title:e.title,type:"title",filterPlays:e.filterPlays}),Object(y.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",children:"Search Plays"}),Object(y.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",onClick:e.clearFilter,children:"View All"})]})]})})}),T=function(e){Object(b.a)(i,e);var t=Object(f.a)(i);function i(e){var r;return Object(d.a)(this,i),(r=t.call(this,e)).state={plays:[],loading:!0,favs:[],filtered_plays:[],title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null},r.filterPlays=r.filterPlays.bind(Object(u.a)(r)),r.filterAll=r.filterAll.bind(Object(u.a)(r)),r.clearFilter=r.clearFilter.bind(Object(u.a)(r)),r.addToFavs=r.addToFavs.bind(Object(u.a)(r)),r.getFavList=r.getFavList.bind(Object(u.a)(r)),r.isFav=r.isFav.bind(Object(u.a)(r)),r.removeFromFavs=r.removeFromFavs.bind(Object(u.a)(r)),r.getFavFunctions=r.getFavFunctions.bind(Object(u.a)(r)),r}return Object(h.a)(i,[{key:"filterPlays",value:function(e,t){var i=Object(j.a)(this.state.plays);"title"===e&&(this.setState({title_filter:t}),i=i.filter((function(e){return e.title.toUpperCase().includes(t.toUpperCase())})),i=this.filterAll("title",i)),"start"===e&&Number(t)&&(this.setState({date_start_filter:Number(t)}),i=i.filter((function(e){return e.likelyDate>=Number(t)})),i=this.filterAll("start",i)),"end"===e&&Number(t)&&(this.setState({date_end_filter:Number(t)}),i=i.filter((function(e){return e.likelyDate<=Number(t)})),i=this.filterAll("end",i)),"genre"===e&&(this.setState({genre_filter:t}),i=i.filter((function(e){return e.genre.toUpperCase().includes(t.toUpperCase())})),i=this.filterAll("genre",i)),this.setState({filtered_plays:i})}},{key:"filterAll",value:function(e,t){var i=this,r=Object(j.a)(t),s=function(t,i,r){return e!==t&&i&&r};return s("title",this.state.title_filter,""!==this.state.title_filter)&&(r=r.filter((function(e){return e.title.toUpperCase().includes(i.state.title_filter.toUpperCase())}))),s("start",this.state.date_start_filter,Number(this.state.date_start_filter))&&(r=r.filter((function(e){return e.likelyDate>=i.state.date_start_filter}))),s("end",this.state.date_end_filter,Number(this.state.date_end_filter))&&(r=r.filter((function(e){return e.likelyDate<=i.state.date_end_filter}))),s("genre",this.state.genre_filter,""!==this.state.genre_filter)&&(r=r.filter((function(e){return e.genre.toUpperCase().includes(i.state.genre_filter.toUpperCase())}))),r}},{key:"clearFilter",value:function(){var e=Object(j.a)(this.state.plays);this.setState({filtered_plays:e,title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null})}},{key:"getFavList",value:function(){return this.state.favs}},{key:"isFav",value:function(e){return this.state.favs.includes(e)}},{key:"addToFavs",value:function(e){if(!this.isFav(e)){var t=Object(j.a)(this.state.favs);t.push(e),this.setState({favs:t})}}},{key:"removeFromFavs",value:function(e){if(this.isFav(e)){var t=Object(j.a)(this.state.favs);t=t.filter((function(t){return t.id!==e.id})),this.setState({favs:t})}}},{key:"getFavFunctions",value:function(){return{addToFavs:this.addToFavs,getFavList:this.getFavList,isFav:this.isFav,removeFromFavs:this.removeFromFavs}}},{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=localStorage.getItem("shakespeare_data"))){e.next=6;break}t=JSON.parse(t),e.next=14;break;case 6:return e.next=8,fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php");case 8:return i=e.sent,e.next=11,i.json();case 11:(t=e.sent).sort((function(e,t){return t.title-e.title})),localStorage.setItem("shakespeare_data",JSON.stringify(t));case 14:this.setState({plays:t}),r=Object(j.a)(t),this.setState({filtered_plays:r}),this.setState({loading:!1}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Oh God");case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(y.jsx)(O.a,{children:Object(y.jsxs)(p.c,{children:[Object(y.jsx)(p.a,{path:"/comp4513-a1",element:Object(y.jsx)(S,{loading:this.state.loading,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter})}),Object(y.jsx)(p.a,{path:"/comp4513-a1/browse",element:Object(y.jsx)(N,{plays:this.state.filtered_plays,getFavFunctions:this.getFavFunctions,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter})})]})})}}]),i}(s.a.Component),A=T,U=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,49)).then((function(t){var i=t.getCLS,r=t.getFID,s=t.getFCP,l=t.getLCP,n=t.getTTFB;i(e),r(e),s(e),l(e),n(e)}))};n.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(A,{})}),document.getElementById("root")),U()}},[[48,1,2]]]);
//# sourceMappingURL=main.0eaad615.chunk.js.map