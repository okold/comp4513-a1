(this["webpackJsonpcomp4513-a1"]=this["webpackJsonpcomp4513-a1"]||[]).push([[0],{24:function(e,t,s){},29:function(e,t,s){},42:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),c=s(18),a=s.n(c),i=(s(29),s(9)),l=s.n(i),o=s(11),h=s(6),d=s(12),j=s(13),u=s(3),b=s(15),f=s(14),O=s(7),p=s(2),x=s(5),v=s(19),m=s.n(v),y=(s(42),s(24),s(0)),g={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};m.a.setAppElement(document.querySelector("#body"));var F=function(e){var t=n.a.useState(!1),s=Object(x.a)(t,2),r=s[0],c=s[1];function a(){c(!1)}return Object(y.jsxs)("div",{id:"header",children:[Object(y.jsx)(O.b,{to:"/comp4513-a1/",id:"logo",onClick:e.closeCurrent,children:"\ud83c\udfad"}),Object(y.jsx)("button",{onClick:function(){c(!0)},children:"About"}),Object(y.jsxs)(m.a,{isOpen:r,onRequestClose:a,style:g,children:[Object(y.jsx)("h2",{children:"Shakespeare Play Browser"}),Object(y.jsx)("h3",{children:"Assignment Information"}),Object(y.jsx)("table",{children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"name",children:"Olga Koldachenko"}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{title:"contact",href:"mailto:okold525@mtroyal.ca",children:"okold525@mtroyal.ca"})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"university",children:"Mount Royal University"}),Object(y.jsx)("td",{title:"professor",children:"Randy Connolly"})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{title:"course",children:"COMP 4513 - Web III"}),Object(y.jsx)("td",{title:"semester",children:"Fall 2021"})]})]})}),Object(y.jsx)("h3",{children:"Resources & References"}),Object(y.jsxs)("div",{className:"columns",children:[Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://reactjs.org/",children:"react"})}),Object(y.jsx)("p",{children:"framework"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://www.npmjs.com/package/react-modal",children:"react-modal"})}),Object(y.jsx)("p",{children:"modal dialog"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://www.npmjs.com/package/react-router-dom",children:"react-router-dom"})}),Object(y.jsx)("p",{children:"routing"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://unsplash.com/photos/nz-UtZz81fI",children:"unsplash"})}),Object(y.jsx)("p",{children:"home view splash image"}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"https://icons8.com/preloaders/en/circular",children:"preloaders.net"})}),Object(y.jsx)("p",{children:"spinner gif"})]}),Object(y.jsx)("p",{children:"All the symbols are unicode this time around"}),Object(y.jsx)("button",{id:"modal-button",onClick:a,children:"Close"})]})]})},k=function(e){return Object(y.jsxs)("div",{id:"fav-list",children:[Object(y.jsx)("h2",{children:"Favourites"}),Object(y.jsxs)("table",{children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Title"}),Object(y.jsx)("td",{className:"thin-col",children:"Del"})]})}),Object(y.jsx)("tbody",{children:e.getFavFunctions().getFavList().map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{onClick:function(s){return e.setCurrent(t)},children:t.title}),Object(y.jsx)("td",{className:"thin-col",onClick:function(s){return e.getFavFunctions().removeFromFavs(t)},children:"X"})]})}))})]})]})},C=function(e){return Object(y.jsx)("input",{defaultValue:e.title,onChange:function(t){return e.filterPlays(e.type,t.target.value)}})},_=function(e){return Object(y.jsxs)("select",{onChange:function(t){return e.filterPlays("genre",t.target.value)},children:[Object(y.jsx)("option",{default:!0}),Object(y.jsx)("option",{value:"comedy",children:"Comedy"}),Object(y.jsx)("option",{value:"tragedy",children:"Tragedy"}),Object(y.jsx)("option",{value:"history",children:"History"})]})},S=(s(44),function(e){return Object(y.jsxs)("div",{id:"filter-block",children:[Object(y.jsx)("h2",{children:"Filters"}),Object(y.jsxs)("form",{id:"filter-form",children:[Object(y.jsx)("h3",{children:"Title"}),Object(y.jsx)(C,{type:"title",title:e.title,filterPlays:e.filterPlays}),Object(y.jsx)("h3",{children:"Year"}),Object(y.jsx)("label",{children:"Start"}),Object(y.jsx)(C,{type:"start",filterPlays:e.filterPlays}),Object(y.jsx)("label",{children:"End"}),Object(y.jsx)(C,{type:"end",filterPlays:e.filterPlays}),Object(y.jsx)("h3",{children:"Genre"}),Object(y.jsx)(_,{filterPlays:e.filterPlays}),Object(y.jsx)("button",{type:"reset",onClick:e.clearFilter,children:"Clear Filters"})]})]})}),w=function(e){return Object(y.jsxs)("div",{className:"scrollable",children:[Object(y.jsx)("h2",{children:"Play List"}),Object(y.jsxs)("table",{id:"play-data",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{onClick:function(t){return e.sortPlays("title")},children:"Title"}),Object(y.jsx)("td",{onClick:function(t){return e.sortPlays("likelyDate")},children:"Year"}),Object(y.jsx)("td",{className:"thin-col",children:"Fav"}),Object(y.jsx)("td",{className:"thin-col",children:"View"})]})}),Object(y.jsx)("tbody",{children:e.plays.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{onClick:function(s){return e.setCurrent(t)},children:t.title}),Object(y.jsx)("td",{className:"thin-col",children:t.likelyDate}),e.favFuncs.isFav(t)&&Object(y.jsx)("td",{className:"thin-col",onClick:function(s){return e.favFuncs.removeFromFavs(t)},children:"\ud83d\udda4"}),!e.favFuncs.isFav(t)&&Object(y.jsx)("td",{className:"thin-col",onClick:function(s){return e.favFuncs.addToFavs(t)},children:"\u2661"}),Object(y.jsx)("td",{className:"thin-col",children:"View"})]},t.id)}))})]}),0===e.plays.length&&Object(y.jsx)("p",{children:"No matches found!"})]})},N=(s(45),function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:e.current.title}),Object(y.jsx)("h3",{children:"Synopsis"}),Object(y.jsx)("p",{children:e.current.synopsis}),Object(y.jsxs)("div",{id:"play-controls",children:[e.favFuncs.isFav(e.current)&&Object(y.jsx)("div",{className:"fav-button",onClick:function(t){return e.favFuncs.removeFromFavs(e.current)},children:"\ud83d\udda4"}),!e.favFuncs.isFav(e.current)&&Object(y.jsx)("div",{className:"fav-button",onClick:function(t){return e.favFuncs.addToFavs(e.current)},children:"\u2661"}),Object(y.jsx)("button",{onClick:e.closeCurrent,children:"Close"})]})]})}),P=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Act"}),Object(y.jsx)("select",{onChange:function(t){return e.setAct(t.target.value)},children:e.data.acts.map((function(e,t){return Object(y.jsx)("option",{value:t,children:e.name})}))}),Object(y.jsx)("label",{children:"Scene"}),Object(y.jsx)("select",{onChange:function(t){return e.setScene(t.target.value)},children:null!==e.act&&e.data.acts[e.act].scenes.map((function(e,t){return Object(y.jsx)("option",{value:t,children:e.name})}))}),Object(y.jsx)("label",{children:"Character"}),Object(y.jsxs)("select",{onChange:function(t){return e.setCharacter(t.target.value)},children:[Object(y.jsx)("option",{value:"",selected:!0}),e.data.persona.map((function(e,t){return Object(y.jsx)("option",{value:e.player,children:e.player})}))]})]})},A=(s(46),function(e){Object(b.a)(s,e);var t=Object(f.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={mode:"details",has_more:"false",loading:"false",data:{},act:0,scene:0,character:"",seach_word:""},r.setMode=r.setMode.bind(Object(u.a)(r)),r.setAct=r.setAct.bind(Object(u.a)(r)),r.setScene=r.setScene.bind(Object(u.a)(r)),r.setCharacter=r.setCharacter.bind(Object(u.a)(r)),r.setSearchWord=r.setSearchWord.bind(Object(u.a)(r)),r.highlight=r.highlight.bind(Object(u.a)(r)),r}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.props.current.filename){e.next=22;break}if(this.setState({loading:!0}),e.prev=2,!(t=localStorage.getItem(this.props.current.id))){e.next=8;break}t=JSON.parse(t),e.next=15;break;case 8:return e.next=10,fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/play.php?name="+this.props.current.id);case 10:return s=e.sent,e.next=13,s.json();case 13:t=e.sent,localStorage.setItem(this.props.current.id,JSON.stringify(t));case 15:this.setState({has_more:!0,data:t,loading:!1}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Failed to load play information"),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"setMode",value:function(e){this.setState({mode:e})}},{key:"setAct",value:function(e){this.setState({act:e,scene:0,character:""})}},{key:"setScene",value:function(e){this.setState({scene:e,character:""})}},{key:"setCharacter",value:function(e){this.setState({character:e})}},{key:"setSearchWord",value:function(e){this.setState({seach_word:e})}},{key:"highlight",value:function(e){return e}},{key:"createButtonBar",value:function(e){var t=this;return Object(y.jsxs)("div",{children:["details"===e&&Object(y.jsx)("button",{className:"current-mode",children:"Details"}),"details"!==e&&Object(y.jsx)("button",{onClick:function(e){return t.setMode("details")},children:"Details"}),!0===this.state.has_more&&"characters"===e&&Object(y.jsx)("button",{className:"current-mode",children:"Characters"}),!0===this.state.has_more&&"characters"!==e&&Object(y.jsx)("button",{onClick:function(e){return t.setMode("characters")},children:"Characters"}),!0===this.state.has_more&&"text"===e&&Object(y.jsx)("button",{className:"current-mode",children:"Text"}),!0===this.state.has_more&&"text"!==e&&Object(y.jsx)("button",{onClick:function(e){return t.setMode("text")},children:"Text"}),!0===this.state.loading&&Object(y.jsx)("span",{children:"Loading more play info..."})]})}},{key:"render",value:function(){var e=this;return"details"===this.state.mode?Object(y.jsxs)("div",{className:"scrollable",children:[this.createButtonBar("details"),Object(y.jsx)("h2",{children:"Play Details"}),Object(y.jsxs)("div",{class:"details",children:[Object(y.jsx)("p",{children:"Likely Date:"}),Object(y.jsx)("p",{children:this.props.current.likelyDate}),Object(y.jsx)("p",{children:"Genre:"}),Object(y.jsx)("p",{children:this.props.current.genre}),Object(y.jsx)("p",{children:"Link:"}),Object(y.jsx)("a",{href:this.props.current.wiki,target:"_blank",rel:"noreferrer",children:"Wiki"}),Object(y.jsx)("p",{children:"Link:"}),Object(y.jsx)("a",{href:this.props.current.gutenberg,target:"_blank",rel:"noreferrer",children:"Gutenberg"}),Object(y.jsx)("p",{children:"Link:"}),Object(y.jsx)("a",{href:this.props.current.shakespeareOrg,target:"_blank",rel:"noreferrer",children:"Shakespeare.org"}),Object(y.jsx)("p",{children:"Description:"}),Object(y.jsx)("p",{children:this.props.current.desc})]})]}):"characters"===this.state.mode?Object(y.jsxs)("div",{className:"scrollable",children:[this.createButtonBar("characters"),Object(y.jsx)("h2",{children:"Characters"}),Object(y.jsx)("ul",{children:this.state.data.persona.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("strong",{children:[e.player,","]}),e.desc]})}))})]}):"text"===this.state.mode?Object(y.jsxs)("div",{className:"scrollable",children:[this.createButtonBar("text"),Object(y.jsx)(P,{data:this.state.data,act:this.state.act,scene:this.state.scene,setAct:this.setAct,setScene:this.setScene,setCharacter:this.setCharacter,setSearchWord:this.setSearchWord}),Object(y.jsx)("h2",{className:"serif",children:this.state.data.title}),Object(y.jsx)("h3",{className:"serif",children:this.state.data.acts[this.state.act].name}),Object(y.jsx)("h4",{className:"serif",children:this.state.data.acts[this.state.act].scenes[this.state.scene].name}),Object(y.jsx)("p",{className:"serif",children:this.state.data.acts[this.state.act].scenes[this.state.scene].title}),Object(y.jsx)("p",{className:"serif",children:this.state.data.acts[this.state.act].scenes[this.state.scene].stageDirection}),this.state.data.acts[this.state.act].scenes[this.state.scene].speeches.map((function(t){return""===e.state.character||e.state.character===t.speaker?Object(y.jsxs)("div",{className:"speech",children:[Object(y.jsx)("p",{className:"serif",children:Object(y.jsx)("strong",{children:t.speaker})}),t.lines.map((function(t){return Object(y.jsx)("p",{className:"serif",children:e.highlight(t)})}))]}):null}))]}):Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"Invalid mode... You shouldn't be seeing this??"})})}}]),s}(n.a.Component)),D=A,T=(s(47),function(e){return Object(y.jsxs)("div",{id:"play-browser",children:[Object(y.jsx)(F,{closeCurrent:e.closeCurrent}),Object(y.jsx)(k,{getFavFunctions:e.getFavFunctions,setCurrent:e.setCurrent}),!e.single_view&&Object(y.jsx)(S,{title:e.title,filterPlays:e.filterPlays,clearFilter:e.clearFilter}),!e.single_view&&Object(y.jsx)(w,{favFuncs:e.getFavFunctions(),plays:e.plays,sortPlays:e.sortPlays,setCurrent:e.setCurrent}),e.single_view&&Object(y.jsx)(N,{current:e.current,closeCurrent:e.closeCurrent,favFuncs:e.getFavFunctions()}),e.single_view&&Object(y.jsx)(D,{current:e.current})]})}),L=(s(48),function(e){return Object(y.jsx)("div",{id:"fill",children:Object(y.jsxs)("div",{id:"home-box",children:[Object(y.jsx)("h2",{children:"Play Browser"}),e.loading&&Object(y.jsx)("img",{src:"spinner.gif",alt:"loading"}),!e.loading&&Object(y.jsxs)("form",{children:[Object(y.jsx)("label",{children:"Title"}),Object(y.jsx)(C,{title:e.title,type:"title",filterPlays:e.filterPlays}),Object(y.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",children:"Search Plays"}),Object(y.jsx)(O.b,{to:"/comp4513-a1/browse",className:"link-btn",onClick:e.clearFilter,children:"View All"})]})]})})}),B=function(e){Object(b.a)(s,e);var t=Object(f.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={plays:[],current:null,single_view:!1,loading:!0,favs:[],filtered_plays:[],title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null},r.setCurrent=r.setCurrent.bind(Object(u.a)(r)),r.closeCurrent=r.closeCurrent.bind(Object(u.a)(r)),r.sortPlays=r.sortPlays.bind(Object(u.a)(r)),r.filterPlays=r.filterPlays.bind(Object(u.a)(r)),r.filterAll=r.filterAll.bind(Object(u.a)(r)),r.clearFilter=r.clearFilter.bind(Object(u.a)(r)),r.addToFavs=r.addToFavs.bind(Object(u.a)(r)),r.getFavList=r.getFavList.bind(Object(u.a)(r)),r.isFav=r.isFav.bind(Object(u.a)(r)),r.removeFromFavs=r.removeFromFavs.bind(Object(u.a)(r)),r.getFavFunctions=r.getFavFunctions.bind(Object(u.a)(r)),r}return Object(j.a)(s,[{key:"setCurrent",value:function(e){this.setState({current:e,single_view:!0})}},{key:"closeCurrent",value:function(){this.setState({single_view:!1})}},{key:"filterPlays",value:function(e,t){var s=Object(h.a)(this.state.plays);"title"===e&&(this.setState({title_filter:t}),s=s.filter((function(e){return e.title.toUpperCase().includes(t.toUpperCase())})),s=this.filterAll("title",s)),"start"===e&&Number(t)&&(this.setState({date_start_filter:Number(t)}),s=s.filter((function(e){return e.likelyDate>=Number(t)})),s=this.filterAll("start",s)),"end"===e&&Number(t)&&(this.setState({date_end_filter:Number(t)}),s=s.filter((function(e){return e.likelyDate<=Number(t)})),s=this.filterAll("end",s)),"genre"===e&&(this.setState({genre_filter:t}),s=s.filter((function(e){return e.genre.toUpperCase().includes(t.toUpperCase())})),s=this.filterAll("genre",s)),this.setState({filtered_plays:s})}},{key:"filterAll",value:function(e,t){var s=this,r=Object(h.a)(t),n=function(t,s,r){return e!==t&&s&&r};return n("title",this.state.title_filter,""!==this.state.title_filter)&&(r=r.filter((function(e){return e.title.toUpperCase().includes(s.state.title_filter.toUpperCase())}))),n("start",this.state.date_start_filter,Number(this.state.date_start_filter))&&(r=r.filter((function(e){return e.likelyDate>=s.state.date_start_filter}))),n("end",this.state.date_end_filter,Number(this.state.date_end_filter))&&(r=r.filter((function(e){return e.likelyDate<=s.state.date_end_filter}))),n("genre",this.state.genre_filter,""!==this.state.genre_filter)&&(r=r.filter((function(e){return e.genre.toUpperCase().includes(s.state.genre_filter.toUpperCase())}))),r}},{key:"sortPlays",value:function(e){var t=Object(h.a)(this.state.plays);t.sort((function(t,s){return t[e]-s[e]}));var s=this.filterAll("",t);this.setState({plays:t,filtered_plays:s})}},{key:"clearFilter",value:function(){var e=Object(h.a)(this.state.plays);this.setState({filtered_plays:e,title_filter:null,date_start_filter:null,date_end_filter:null,genre_filter:null})}},{key:"getFavList",value:function(){return this.state.favs}},{key:"isFav",value:function(e){return this.state.favs.includes(e)}},{key:"addToFavs",value:function(e){if(!this.isFav(e)){var t=Object(h.a)(this.state.favs);t.push(e),this.setState({favs:t})}}},{key:"removeFromFavs",value:function(e){if(this.isFav(e)){var t=Object(h.a)(this.state.favs);t=t.filter((function(t){return t.id!==e.id})),this.setState({favs:t})}}},{key:"getFavFunctions",value:function(){return{addToFavs:this.addToFavs,getFavList:this.getFavList,isFav:this.isFav,removeFromFavs:this.removeFromFavs}}},{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=localStorage.getItem("shakespeare_data"))){e.next=6;break}t=JSON.parse(t),e.next=14;break;case 6:return e.next=8,fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php");case 8:return s=e.sent,e.next=11,s.json();case 11:(t=e.sent).sort((function(e,t){return t.title-e.title})),localStorage.setItem("shakespeare_data",JSON.stringify(t));case 14:this.setState({plays:t}),r=Object(h.a)(t),this.setState({filtered_plays:r}),this.setState({loading:!1}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Oh God");case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(y.jsx)(O.a,{children:Object(y.jsxs)(p.c,{children:[Object(y.jsx)(p.a,{path:"/comp4513-a1",element:Object(y.jsx)(L,{loading:this.state.loading,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter})}),Object(y.jsx)(p.a,{path:"/comp4513-a1/browse",element:Object(y.jsx)(T,{plays:this.state.filtered_plays,getFavFunctions:this.getFavFunctions,filterPlays:this.filterPlays,clearFilter:this.clearFilter,title:this.state.title_filter,sortPlays:this.sortPlays,setCurrent:this.setCurrent,closeCurrent:this.closeCurrent,single_view:this.state.single_view,current:this.state.current})})]})})}}]),s}(n.a.Component),I=B,M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,50)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),r(e),n(e),c(e),a(e)}))};a.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),M()}},[[49,1,2]]]);
//# sourceMappingURL=main.6604d6ba.chunk.js.map